<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LinguaLeap - Learn English</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.427.0/lucide.min.css">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading" class="loading-screen">
        <div class="loader"></div>
        <p>Loading LinguaLeap...</p>
    </div>

    <!-- Login Page -->
    <div id="loginPage" class="login-page hidden">
        <div class="login-container">
            <div class="logo">
                <h1>ğŸš€ LinguaLeap</h1>
                <p>Leap into new languages</p>
            </div>
            <div class="login-card">
                <h2>Welcome to LinguaLeap</h2>
                <p>Sign in to continue your language journey.</p>
                <button id="googleSignIn" class="google-signin-btn">
                    <svg width="20" height="20" viewBox="0 0 20 20">
                        <path fill="currentColor" d="M19.6 10.23c0-.82-.1-1.42-.25-2.05H10v3.72h5.5c-.15.96-.74 2.31-2.04 3.22v2.45h3.16c1.89-1.73 2.98-4.3 2.98-7.34z"/>
                        <path fill="currentColor" d="M10 20c2.7 0 4.96-.89 6.62-2.41l-3.16-2.45c-.89.63-2.10 1.06-3.46 1.06-2.65 0-4.89-1.78-5.69-4.21H1.07v2.52C2.72 17.75 6.09 20 10 20z"/>
                        <path fill="currentColor" d="M4.31 11.99c-.25-.63-.25-1.36 0-1.99V7.48H1.07A9.06 9.06 0 0 0 0 12c0 1.61.39 3.14 1.07 4.52l3.24-2.53z"/>
                        <path fill="currentColor" d="M10 4.18c1.45 0 2.48.63 3.04 1.15l2.24-2.24C13.96 1.09 12.12.18 10 .18c-3.91 0-7.28 2.25-8.93 5.49l3.24 2.52C5.11 5.96 7.35 4.18 10 4.18z"/>
                    </svg>
                    Sign in with Google
                </button>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" class="hidden">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <h2>ğŸš€ LinguaLeap</h2>
            </div>
            <div class="sidebar-content">
                <ul class="nav-menu">
                    <li><a href="#" class="nav-link active" data-page="dashboard">ğŸ  Dashboard</a></li>
                    <li><a href="#" class="nav-link" data-page="beginner">ğŸ‘¶ Beginner's Journey</a></li>
                    <li><a href="#" class="nav-link" data-page="grammar">ğŸ“– Grammar Deep Dive</a></li>
                    <li><a href="#" class="nav-link" data-page="quiz">ğŸ¯ AI Quiz Arena</a></li>
                    <li><a href="#" class="nav-link" data-page="tools">ğŸ› ï¸ AI Tools</a></li>
                    <li><a href="#" class="nav-link" data-page="pronunciation">ğŸ¤ Pronunciation Lab</a></li>
                    <li><a href="#" class="nav-link" data-page="video">ğŸ“¹ Video Library</a></li>
                </ul>
            </div>
            <div class="sidebar-footer">
                <div class="user-profile">
                    <img id="userAvatar" src="" alt="User" class="user-avatar">
                    <div class="user-info">
                        <p id="userName">Loading...</p>
                        <button id="logoutBtn" class="logout-btn">Logout</button>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Mobile Header -->
            <header class="mobile-header">
                <button id="menuToggle" class="menu-toggle">â˜°</button>
                <h1>LinguaLeap</h1>
                <button id="themeToggle" class="theme-toggle">ğŸŒ™</button>
            </header>

            <!-- Dashboard Page -->
            <div id="dashboardPage" class="page active">
                <div class="page-header">
                    <h1>Welcome back, <span id="welcomeName">friend</span>!</h1>
                    <p>Here's your personalized language learning dashboard. Pick up where you left off or try something new.</p>
                </div>

                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ”¥</div>
                        <div class="stat-content">
                            <h3>Daily Streak</h3>
                            <p id="dailyStreak" class="stat-value">0 days</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">â­</div>
                        <div class="stat-content">
                            <h3>Total Points</h3>
                            <p id="totalPoints" class="stat-value">0</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ†</div>
                        <div class="stat-content">
                            <h3>Current Level</h3>
                            <p id="currentLevel" class="stat-value">1</p>
                        </div>
                    </div>
                </div>

                <!-- Learning Paths -->
                <div class="learning-paths">
                    <div class="path-card">
                        <div class="path-icon">ğŸ‘¶</div>
                        <h3>Beginner's Journey</h3>
                        <p>Start from the basics and build your foundation. Learn essential greetings, introductions, and common phrases.</p>
                        <button class="path-btn" data-page="beginner">Start Learning â†’</button>
                    </div>
                    <div class="path-card">
                        <div class="path-icon">ğŸ“–</div>
                        <h3>Grammar Deep Dive</h3>
                        <p>Master the rules and structure of the language, from verb tenses to sentence construction.</p>
                        <button class="path-btn" data-page="grammar">Start Learning â†’</button>
                    </div>
                </div>
            </div>

            <!-- Beginner Journey Page -->
            <div id="beginnerPage" class="page">
                <div class="page-header">
                    <button class="back-btn" data-page="dashboard">â† Back to Dashboard</button>
                    <h1>ğŸ‘¶ Beginner's Journey</h1>
                    <p>Start your English learning adventure with basic concepts and everyday conversations.</p>
                </div>
                
                <div class="lessons-grid">
                    <div class="lesson-card">
                        <h3>Lesson 1: Greetings & Introductions</h3>
                        <p>Learn how to say hello, introduce yourself, and basic polite expressions.</p>
                        <div class="lesson-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 0%"></div>
                            </div>
                            <span>0% Complete</span>
                        </div>
                        <button class="lesson-btn">Start Lesson</button>
                    </div>
                    
                    <div class="lesson-card locked">
                        <h3>Lesson 2: Numbers & Time</h3>
                        <p>Master numbers, dates, and telling time in English.</p>
                        <div class="lesson-progress">
                            <span>ğŸ”’ Complete Lesson 1 to unlock</span>
                        </div>
                    </div>
                    
                    <div class="lesson-card locked">
                        <h3>Lesson 3: Family & Relationships</h3>
                        <p>Vocabulary and phrases about family members and relationships.</p>
                        <div class="lesson-progress">
                            <span>ğŸ”’ Complete Lesson 2 to unlock</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Grammar Page -->
            <div id="grammarPage" class="page">
                <div class="page-header">
                    <button class="back-btn" data-page="dashboard">â† Back to Dashboard</button>
                    <h1>ğŸ“– Grammar Deep Dive</h1>
                    <p>Master English grammar with detailed explanations and practice exercises.</p>
                </div>
                
                <div class="grammar-topics">
                    <div class="topic-card">
                        <h3>Present Tense</h3>
                        <p>Simple present, present continuous, and present perfect tenses.</p>
                        <button class="topic-btn">Study Now</button>
                    </div>
                    
                    <div class="topic-card">
                        <h3>Past Tense</h3>
                        <p>Simple past, past continuous, and past perfect tenses.</p>
                        <button class="topic-btn">Study Now</button>
                    </div>
                    
                    <div class="topic-card">
                        <h3>Future Tense</h3>
                        <p>Will, going to, and future perfect constructions.</p>
                        <button class="topic-btn">Study Now</button>
                    </div>
                </div>
            </div>

            <!-- Other pages placeholder -->
            <div id="quizPage" class="page">
                <div class="page-header">
                    <button class="back-btn" data-page="dashboard">â† Back to Dashboard</button>
                    <h1>ğŸ¯ AI Quiz Arena</h1>
                    <p>Test your knowledge with AI-generated quizzes.</p>
                </div>
                <div class="coming-soon">
                    <h2>ğŸš§ Coming Soon!</h2>
                    <p>AI-powered quizzes are under development.</p>
                </div>
            </div>

            <div id="toolsPage" class="page">
                <div class="page-header">
                    <button class="back-btn" data-page="dashboard">â† Back to Dashboard</button>
                    <h1>ğŸ› ï¸ AI Tools Arena</h1>
                    <p>Advanced AI tools for language learning.</p>
                </div>
                <div class="coming-soon">
                    <h2>ğŸš§ Coming Soon!</h2>
                    <p>AI tools are under development.</p>
                </div>
            </div>

            <div id="pronunciationPage" class="page">
                <div class="page-header">
                    <button class="back-btn" data-page="dashboard">â† Back to Dashboard</button>
                    <h1>ğŸ¤ Pronunciation Lab</h1>
                    <p>Practice your English pronunciation with AI feedback.</p>
                </div>
                <div class="coming-soon">
                    <h2>ğŸš§ Coming Soon!</h2>
                    <p>Pronunciation tools are under development.</p>
                </div>
            </div>

            <!-- AI Quiz Arena Page -->
            <div id="quizPage" class="page">
                <div class="page-header">
                    <button class="back-btn" data-page="dashboard">â† Back to Dashboard</button>
                    <h1>ğŸ¯ AI Quiz Arena</h1>
                    <p>Challenge yourself with AI-generated quizzes and improve your English skills!</p>
                </div>
                
                <div class="quiz-container">
                    <!-- Quiz Configuration -->
                    <div class="quiz-config-card">
                        <h3>ğŸ”§ Quiz Configuration</h3>
                        <div class="form-group">
                            <label>Quiz Topic</label>
                            <select id="quizTopic">
                                <option value="general">General English</option>
                                <option value="grammar">Grammar Focus</option>
                                <option value="vocabulary">Vocabulary Building</option>
                                <option value="tenses">Verb Tenses</option>
                                <option value="prepositions">Prepositions</option>
                                <option value="idioms">Idioms & Phrases</option>
                                <option value="business">Business English</option>
                                <option value="travel">Travel English</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Difficulty Level</label>
                            <select id="quizDifficulty">
                                <option value="beginner">ğŸŸ¢ Beginner</option>
                                <option value="intermediate">ğŸŸ¡ Intermediate</option>
                                <option value="advanced">ğŸ”´ Advanced</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Number of Questions</label>
                            <select id="quizQuestions">
                                <option value="5">5 Questions</option>
                                <option value="10" selected>10 Questions</option>
                                <option value="15">15 Questions</option>
                                <option value="20">20 Questions</option>
                            </select>
                        </div>
                        
                        <button id="generateQuizBtn" class="ai-btn primary">
                            ğŸ¤– Generate AI Quiz
                        </button>
                    </div>
                    
                    <!-- Quiz Display Area -->
                    <div id="quizDisplay" class="quiz-display hidden">
                        <div class="quiz-header">
                            <div class="quiz-progress">
                                <div class="progress-bar">
                                    <div id="quizProgressFill" class="progress-fill"></div>
                                </div>
                                <span id="quizProgressText">Question 1 of 10</span>
                            </div>
                            <div class="quiz-timer">
                                <span id="quizTimer">â±ï¸ 00:00</span>
                            </div>
                        </div>
                        
                        <div class="question-card">
                            <h3 id="questionText">Loading question...</h3>
                            <div id="questionOptions" class="question-options">
                                <!-- Options will be generated here -->
                            </div>
                            <div class="question-actions">
                                <button id="prevQuestionBtn" class="ai-btn secondary">â† Previous</button>
                                <button id="nextQuestionBtn" class="ai-btn primary">Next â†’</button>
                                <button id="finishQuizBtn" class="ai-btn success hidden">ğŸ Finish Quiz</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Quiz Results -->
                    <div id="quizResults" class="quiz-results hidden">
                        <div class="results-header">
                            <h2>ğŸ‰ Quiz Complete!</h2>
                            <div class="score-display">
                                <div class="score-circle">
                                    <span id="finalScore">0%</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="results-details">
                            <div class="stat-card">
                                <h4>ğŸ“Š Your Performance</h4>
                                <p>Correct Answers: <span id="correctAnswers">0</span></p>
                                <p>Total Questions: <span id="totalQuestions">0</span></p>
                                <p>Time Taken: <span id="timeTaken">0:00</span></p>
                                <p>Accuracy: <span id="accuracyRate">0%</span></p>
                            </div>
                            
                            <div class="improvement-tips">
                                <h4>ğŸ’¡ AI Recommendations</h4>
                                <div id="aiRecommendations">
                                    <!-- AI-generated recommendations will appear here -->
                                </div>
                            </div>
                        </div>
                        
                        <div class="results-actions">
                            <button id="retakeQuizBtn" class="ai-btn primary">ğŸ”„ Retake Quiz</button>
                            <button id="newQuizBtn" class="ai-btn secondary">ğŸ†• New Quiz</button>
                            <button id="shareResultsBtn" class="ai-btn success">ğŸ“¤ Share Results</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- AI Tools Page -->
            <div id="toolsPage" class="page">
                <div class="page-header">
                    <button class="back-btn" data-page="dashboard">â† Back to Dashboard</button>
                    <h1>ğŸ› ï¸ AI Tools Arena</h1>
                    <p>Powerful AI-driven tools to enhance your English learning experience!</p>
                </div>
                
                <div class="tools-grid">
                    <!-- Daily Practice Generator -->
                    <div class="tool-card" id="practiceGenerator">
                        <div class="tool-header">
                            <div class="tool-icon">ğŸ“…</div>
                            <h3>Daily Practice Generator</h3>
                            <span class="api-badge">OpenRouter API 1</span>
                        </div>
                        <p>Generate personalized daily practice exercises based on your learning level and goals.</p>
                        
                        <div class="tool-config">
                            <div class="form-group">
                                <label>Practice Type</label>
                                <select id="practiceType">
                                    <option value="mixed">Mixed Practice</option>
                                    <option value="grammar">Grammar Focus</option>
                                    <option value="vocabulary">Vocabulary Building</option>
                                    <option value="reading">Reading Comprehension</option>
                                    <option value="writing">Writing Practice</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label>Duration</label>
                                <select id="practiceDuration">
                                    <option value="5">5 minutes</option>
                                    <option value="10" selected>10 minutes</option>
                                    <option value="15">15 minutes</option>
                                    <option value="30">30 minutes</option>
                                </select>
                            </div>
                            
                            <button class="ai-btn primary" onclick="generateDailyPractice()">
                                ğŸ¤– Generate Practice
                            </button>
                        </div>
                        
                        <div id="practiceOutput" class="tool-output hidden">
                            <!-- Generated practice will appear here -->
                        </div>
                    </div>
                    
                    <!-- Sentence Improver -->
                    <div class="tool-card" id="sentenceImprover">
                        <div class="tool-header">
                            <div class="tool-icon">âœ¨</div>
                            <h3>Sentence Improver</h3>
                            <span class="api-badge">OpenRouter API 1</span>
                        </div>
                        <p>Improve your sentences with AI-powered suggestions for better grammar, style, and clarity.</p>
                        
                        <div class="tool-config">
                            <div class="form-group">
                                <label>Enter your sentence</label>
                                <textarea id="inputSentence" placeholder="Type your sentence here..." rows="3"></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label>Improvement Focus</label>
                                <select id="improvementFocus">
                                    <option value="all">Overall Improvement</option>
                                    <option value="grammar">Grammar Only</option>
                                    <option value="style">Style & Flow</option>
                                    <option value="clarity">Clarity & Conciseness</option>
                                    <option value="formal">Formal Tone</option>
                                    <option value="casual">Casual Tone</option>
                                </select>
                            </div>
                            
                            <button class="ai-btn primary" onclick="improveSentence()">
                                âœ¨ Improve Sentence
                            </button>
                        </div>
                        
                        <div id="sentenceOutput" class="tool-output hidden">
                            <!-- Improved sentences will appear here -->
                        </div>
                    </div>
                    
                    <!-- Grammar Tool Assistant -->
                    <div class="tool-card" id="grammarAssistant">
                        <div class="tool-header">
                            <div class="tool-icon">ğŸ“š</div>
                            <h3>Grammar Tool Assistant</h3>
                            <span class="api-badge">OpenRouter API 2</span>
                        </div>
                        <p>Get detailed grammar explanations, rules, and examples for any grammar topic.</p>
                        
                        <div class="tool-config">
                            <div class="form-group">
                                <label>Grammar Topic or Question</label>
                                <textarea id="grammarQuery" placeholder="Ask about any grammar topic... e.g., 'Explain present perfect tense'" rows="3"></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label>Response Type</label>
                                <select id="grammarResponseType">
                                    <option value="explanation">Detailed Explanation</option>
                                    <option value="examples">Examples & Usage</option>
                                    <option value="rules">Rules & Guidelines</option>
                                    <option value="exercises">Practice Exercises</option>
                                    <option value="comparison">Compare Similar Topics</option>
                                </select>
                            </div>
                            
                            <button class="ai-btn primary" onclick="getGrammarHelp()">
                                ğŸ“š Get Grammar Help
                            </button>
                        </div>
                        
                        <div id="grammarOutput" class="tool-output hidden">
                            <!-- Grammar explanations will appear here -->
                        </div>
                    </div>
                    
                    <!-- AI Story Generator -->
                    <div class="tool-card" id="storyGenerator">
                        <div class="tool-header">
                            <div class="tool-icon">ğŸ“–</div>
                            <h3>AI Story Generator</h3>
                            <span class="api-badge">OpenRouter API 2</span>
                        </div>
                        <p>Create engaging stories for reading practice with customizable themes and difficulty levels.</p>
                        
                        <div class="tool-config">
                            <div class="form-group">
                                <label>Story Theme</label>
                                <select id="storyTheme">
                                    <option value="adventure">ğŸ—ºï¸ Adventure</option>
                                    <option value="mystery">ğŸ” Mystery</option>
                                    <option value="friendship">ğŸ‘« Friendship</option>
                                    <option value="family">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Family</option>
                                    <option value="travel">âœˆï¸ Travel</option>
                                    <option value="business">ğŸ’¼ Business</option>
                                    <option value="science">ğŸ”¬ Science Fiction</option>
                                    <option value="historical">ğŸ›ï¸ Historical</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label>Story Length</label>
                                <select id="storyLength">
                                    <option value="short">Short (100-200 words)</option>
                                    <option value="medium" selected>Medium (300-500 words)</option>
                                    <option value="long">Long (500-800 words)</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label>Language Level</label>
                                <select id="storyLevel">
                                    <option value="beginner">Beginner Vocabulary</option>
                                    <option value="intermediate" selected>Intermediate Vocabulary</option>
                                    <option value="advanced">Advanced Vocabulary</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label>Custom Theme (Optional)</label>
                                <input type="text" id="customTheme" placeholder="e.g., 'A day in the life of a chef'">
                            </div>
                            
                            <button class="ai-btn primary" onclick="generateStory()">
                                ğŸ“– Generate Story
                            </button>
                        </div>
                        
                        <div id="storyOutput" class="tool-output hidden">
                            <!-- Generated stories will appear here -->
                        </div>
                    </div>
                </div>
            </div>

            <div id="videoPage" class="page">
                <div class="page-header">
                    <button class="back-btn" data-page="dashboard">â† Back to Dashboard</button>
                    <h1>ğŸ“¹ Video Library</h1>
                    <p>Learn with interactive video content.</p>
                </div>
                <div class="coming-soon">
                    <h2>ğŸš§ Coming Soon!</h2>
                    <p>Video library is under development.</p>
                </div>
            </div>
        </main>
    </div>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-firestore-compat.js"></script>
    
    <!-- Custom Scripts -->
    <script src="firebase-config.js"></script>
    <script src="app.js"></script>
    <script src="ai-tools.js"></script>
</body>
</html>